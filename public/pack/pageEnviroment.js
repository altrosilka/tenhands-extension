!function(){function e(e){return e.split("&").join("&amp;").split("<").join("&lt;").split('"').join("&quot;")}function t(t){var n=document.createElement("div");return n.innerHTML='<a href="'+e(t)+'">x</a>',n.firstChild.href}function n(){var e;return e=document.querySelector('meta[property="og:image"]'),null!==e?e.getAttribute("content"):(e=document.querySelector('link[rel="image_src"]'),null!==e?e.getAttribute("href"):(e=document.querySelector('meta[name="twitter:image"]'),null!==e?e.getAttribute("content"):e))}function i(e){var t;return t=document.querySelector(e),null!==t?t.innerHTML.replace(/(<([^>]+)>)/gi,"").replace(/(\n)+/g,"\n"):void 0}function r(){var e;return e=document.querySelector('meta[name="description"]'),null!==e?e.getAttribute("content"):(e=document.querySelector('meta[name="Description"]'),null!==e?e.getAttribute("content"):"")}function l(){o=document.getElementById("smm-transport-ekniERgebe39EWee"),null===o?setTimeout(l,100):setTimeout(function(){o.contentWindow.postMessage(g,"chrome-extension://"+chrome.runtime.id)},100)}var o;if(o=document.getElementById("smm-transport-ekniERgebe39EWee"),null===o){for(var a,d,s=document.getElementsByTagName("img"),c=[],u=0,m=s.length;m>u;u++)a=s.item(u),a.hidden||a.naturalHeight<100||a.naturalWidth<100||a.width<150||a.height<150||(d=a.width/a.height,d>4||.25>d||c.push({alt:a.alt,clientHeight:a.clientHeight,clientWidth:a.clientWidth,width:a.width,height:a.height,title:a.title,src:a.src,src_big:a.src,type:"image"}));var g={images:c,title:document.title,description:r(),url:document.location.href,imageSrc:t(n()),h1:i("h1"),h2:i("h2"),h3:i("h3")},h=window.getSelection();if(h&&"None"!==h.type){var v=h.getRangeAt(0);if(v){var y=document.createElement("div");y.appendChild(v.cloneContents()),g.selection=y.innerHTML}}l()}}(),function(e,t){function n(e){var n=e.message?"message":"data",i=e[n];if(i===o("close")&&(l(),setTimeout(function(){t.body.removeChild(u)},450)),i===o("toggle")){var r=u.getAttribute("data-small-view");null===r?(u.setAttribute("data-small-view","true"),u.style["-webkit-transform"]="translateY(50%)"):(u.removeAttribute("data-small-view"),u.style["-webkit-transform"]="translateY(0)")}}function i(e,t){return{x:e.clientX>t.clientX?1:-1,y:e.clientY>t.clientY?1:-1}}function r(){u.style.display="block",setTimeout(function(){u.style.transform="translateY(0px)",u.style.opacity="1",u.style.visibility="visible"},0)}function l(){u.style.transform="translateY(100px)",u.style.opacity="0",u.style.visibility="hidden",window.removeEventListener(y,n),t.body.removeChild(t.getElementById(d+"additionalPadding")),setTimeout(function(){u.style.display="none"},400)}function o(e){return s+e}var a,d="smm-UEe9vE-",s="Ejiw9494WvweejgreWCEGHeeE_FF_",c="smm-layout-ekniERgebe39EWee",u=t.getElementById(c);if(null===u){u=t.createElement("div"),u.setAttribute("id",c),u.setAttribute("class",d+"layout"),u.setAttribute("style","");var m=t.createElement("div");m.setAttribute("style","height:"+window.innerHeight/2+"px"),m.setAttribute("id",d+"additionalPadding"),t.body.appendChild(m);var g=t.createElement("iframe");g.src=chrome.extension.getURL("pages/createPost.html"),g.setAttribute("style","width:100%;height:100%;z-index:1;position:relative;"),g.setAttribute("id","smm-transport-ekniERgebe39EWee"),g.setAttribute("frameborder","0"),u.appendChild(g),t.body.appendChild(u),document.body.addEventListener("mousedown",function(e){a=e}),document.body.addEventListener("mouseup",function(e){var t=window.getSelection();if(t&&"None"!==t.type){var n=t.getRangeAt(0);if(n){var r=document.createElement("div");r.appendChild(n.cloneContents());var l=r.innerHTML;if(l&&""!==l){i(e,a),window.innerWidth,window.innerHeight}}}e.clientX===a.clientX&&e.clientY===a.clientY&&(selectHelper.style.left="-9999px")})}else"hidden"===e.getComputedStyle(u).visibility&&r();var h=window.addEventListener?"addEventListener":"attachEvent",v=window[h],y="attachEvent"==h?"onmessage":"message";v(y,n,!1)}(window,document);